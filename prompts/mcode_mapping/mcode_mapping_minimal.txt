**TASK: Map clinical entities to Mcode elements**

Map extracted clinical entities to Mcode data elements.

**OUTPUT FORMAT (JSON):**
{{
    "mcode_mappings": [
        {{
            "source_entity_index": 0,
            "Mcode_element": "Mcode element name",
            "value": "mapped value",
            "confidence": 0.0-1.0,
            "mapping_rationale": "brief explanation"
        }}
    ],
    "metadata": {{
        "mapping_method": "llm_based",
        "mapped_count": 0
    }}
}}

**COMMON Mcode ELEMENTS:**
- CancerCondition: Cancer diagnoses
- GenomicVariant: Genetic mutations, biomarkers
- CancerRelatedMedication: Treatments
- ECOGPerformanceStatus: Performance scores

**INSTRUCTIONS:**
1. Map to appropriate Mcode elements
2. Include confidence scores
3. Provide mapping rationale
4. Return ONLY valid JSON

**EXTRACTED ENTITIES:**
{entities_json}

**TRIAL CONTEXT:**
{trial_context}